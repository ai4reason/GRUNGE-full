## Unpacking tar

for arc in *.tar.7z; do 7zr x "$arc"; done;
for arc in *.tar; do tar xf "$arc"; done;

## Removing axioms files and reparing the chain of theory dependencies in axiom files

rm $(find . -name "basis_emit*.ax")
grep -rl /basis_emit . | xargs sed -i 's;/basis_emit;/integerRing;g'
rm $(find . -name "ordinalNotation*.ax")
grep -rl /ordinalNotation . | xargs sed -i 's;/ordinalNotation;/intExtension;g'
rm $(find . -name "ordNotationSemantics*.ax")
grep -rl /ordNotationSemantics . | xargs sed -i 's;/ordNotationSemantics;/frac;g'

## Removing problems and reparing the chain of theory dependencies in chainy files

cd ..
rm $(find . -name "thm_2Ebasis__emit_2E*.p")
rm $(find . -name "thm_2EordinalNotation_2E*.p")
rm $(find . -name "thm_2EordNotationSemantics_2E*.p")

grep -rl /basis_emit chainy_fof | xargs sed -i 's;/basis_emit;/integerRing;g'
grep -rl /basis_emit chainy_tf0 | xargs sed -i 's;/basis_emit;/integerRing;g'
grep -rl /basis_emit chainy_th0 | xargs sed -i 's;/basis_emit;/integerRing;g'
grep -rl /ordinalNotation chainy_fof | xargs sed -i 's;/ordinalNotation;/intExtension;g'
grep -rl /ordinalNotation chainy_tf0 | xargs sed -i 's;/ordinalNotation;/intExtension;g'
grep -rl /ordinalNotation chainy_th0 | xargs sed -i 's;/ordinalNotation;/intExtension;g'
grep -rl /ordNotationSemantics chainy_fof | xargs sed -i 's;/ordNotationSemantics;/frac;g'
grep -rl /ordNotationSemantics chainy_tf0 | xargs sed -i 's;/ordNotationSemantics;/frac;g'
grep -rl /ordNotationSemantics chainy_th0 | xargs sed -i 's;/ordNotationSemantics;/frac;g'


## Packing tar

rm *.tar.7z
time tar cf - Axioms | 7za -bd -si a -mx=9 -m0=lzma2  Axioms.tar.7z
time tar cf - bushy_fof | 7za -bd -si a -mx=9 -m0=lzma2  bushy_fof.tar.7z
time tar cf - chainy_fof | 7za -bd -si a -mx=9 -m0=lzma2  chainy_fof.tar.7z
time tar cf - bushy_tf0 | 7za -bd -si a -mx=9 -m0=lzma2  bushy_tf0.tar.7z
time tar cf - chainy_tf0 | 7za -bd -si a -mx=9 -m0=lzma2  chainy_tf0.tar.7z
time tar cf - bushy_th0 | 7za -bd -si a -mx=9 -m0=lzma2  bushy_th0.tar.7z
time tar cf - chainy_th0 | 7za -bd -si a -mx=9 -m0=lzma2  chainy_th0.tar.7z
